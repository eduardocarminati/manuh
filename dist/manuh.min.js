module.exports={levelSeparator:"/",multiLevelWildCard:"#",singleLevelWildCard:"+",topicsTree:{},__publishCallbackInvokeIntervalDelay:0,_hasSpecialWildcard:function(e){return-1!=e.indexOf(this.multiLevelWildCard)||-1!=e.indexOf(this.singleLevelWildCard)},_createTopic:function(e,i){var s={name:e,parent:i,subscriptions:[],addSubscription:function(e){this.subscriptions.push({onMessageReceived:e})}};return i&&(i[e]=s),s},_resolveTopicsByPathRegex:function(e,i){var s=[];i||(i=this.topicsTree);var t=e.indexOf("/"),o=e;if(-1!=t&&(o=e.substring(0,e.indexOf("/"))),0===o.trim().length)return null;if(i.hasOwnProperty(o)||(i[o]=this._createTopic(o,i)),s.push(i[o]),-1!=t){var r=this._resolveTopicsByPathRegex(e.substring(t+1),i[o]);s=s.concat(r)}return s},_resolveTopic:function(e){if(this._hasSpecialWildcard(e))throw{msg:"Error to resolve a topic by the path provided because it has a wildcard and hence could find 2 or more topcis. This method is intended to be used to get only one topic. To resolve path using wildcards use `_resolveTopicsByPathRegex`."};var i=this._resolveTopicsByPathRegex(e);return i[i.length-1]},publish:function(e,i){var s=this,t=null;if(this._hasSpecialWildcard(e))throw{msg:"Error to publish message on topic because the topic name (path) provided has invalid characters. Note: you cannot publish using wildcards like you can use on subscriptions."};if(t=this._resolveTopic(e),t.length>1)throw{msg:"Error to publish message on topic because there were found more than 1 topic for the provied topicPath. You can publish only to one topic. Check if there are duplicated topic names."};for(var o=function(e){var t=e;setTimeout(function(){t.onMessageReceived(i)},s.__publishCallbackInvokeIntervalDelay)},r=0;r<t.subscriptions.length;r++){var n=t.subscriptions[r];new o(n)}},subscribe:function(e,i){if(!i)throw{msg:"Error subscribing to `"+e+"` because no `onMessageReceived` callback function was provided."};var s=null;this._hasSpecialWildcard(e)||(s=this._resolveTopic(e),s.addSubscription(i))}};